<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CH8 文字</title>
</head>

<body>
    <script>
        let text = '  Abc  Def   GHI LKl  '
        /*
        console.log(text)
        // .trim() 移除前後空白
        text = text.trim()
        console.log(text)
        
        //.toUpperCase() 轉大寫
        text = text.toUpperCase()
        console.log(text)
        //.toLocaleLowerCase() 轉小寫
        text = text.toLocaleLowerCase()
        console.log(text)
        */

        // JS語法可以串在一起：
        text = text.trim().toLocaleUpperCase().toLocaleLowerCase()
        console.log(text)

        let text2 = '外賣 咖哩拌飯 咖哩烏冬'
        /*includes(尋找文字, 從第幾個字開始)
        檢查是否有包含尋找文字，回傳boolean
        第二個參數是選填，預設是0*/
        let includesCurry = text2.includes('咖哩')
        // let includesCurry = text2.includes('咖哩', 100)
        console.log(includesCurry)

        /*includes(尋找文字，從第幾個字開始往後)
        檢查是否有包含尋找文字，回傳第一個符合的索引
        第二個參數是選填，預設是0*/
        let indexCurry = text2.indexOf('咖哩')
        console.log(indexCurry)
        /*.lastIndexOf(搜尋內容, 從第幾個開始網前)
        尋找陣列是否有東西符合搜尋內容，回傳最後一個符合的索引（註：-1表示找不到）
        第二個參數是選填，預設是文字.length-1*/
        console.log(text2.lastIndexOf('咖哩'))

        /*.match(正則表達式Regex)
        符合的結果用陣列回傳        
        g = 尋找多個結果（沒有g只會找一個）
        有g會變成單純的文字陣列(得到的資料較沒有g的少)
        沒找到回傳null
        */
        let matchCurry = text2.match(/咖哩/g)
        console.log(matchCurry)
        /*.matchAll(正則表達式Regex)
        一定要使用g
        結果會是RegExpSpringIterator，只能用迴圈取資料
        */
        let matchAllCurry = text2.matchAll(/咖哩/g)
        console.log(matchAllCurry)// RegExpSpringIterator{}
        //用迴圈取資料
        for (const match of matchAllCurry) {
            console.log(match)
        }

        /*.replace(搜尋文字,取代文字)
        只會取代第一個符合的文字
        */
        let replaceCurry = text2.replace('咖哩', '三色豆')
        console.log(replaceCurry)
        /*.replace(Regex,取代文字)
        如果Regex有設定g就會全部取代*/
        let replaceCurry2 = text2.replace(/咖哩/g, '三色豆')
        console.log(replaceCurry2)


        let email = 'aaaa@gmail.com'
        let emailMatch = email.match(/^[0-9a-z]+@[0-9a-z]+\.[0-9a-z]+$/g)
        console.log(emailMatch)

        //()用來分群組
        const emailRegexGroup = /^([0-9a-z]+)@([0-9a-z]+)\.([0-9a-z]+)$/g
        let emailMatchAllGroup = email.matchAll(emailRegexGroup)
        for (const match of emailMatchAllGroup) {
            console.log(match)
            /*
            0: "aaa@gmail.com"
            1: "aaa"
            2: "gmail"
            3: "com"
            groups: undefined
            index: 0
            */
        }
        //Regax()群組找到的東西可用用 $數字 來代表第幾個群組抓到的東西
        let emailReplaceGroup = email.replace(emailRegexGroup, '帳號是$1，網域是 $2.$3')
        console.log(emailReplaceGroup)


        // 上面內容加上?<群組名稱>
        const emailRegexGroup2 = /^(?<account>[0-9a-z]+)@(?<domain>[0-9a-z]+)\.(?<tld>[0-9a-z]+)$/g
        let emailMatchAllGroup2 = email.matchAll(emailRegexGroup2)
        for (const match of emailMatchAllGroup2) {
            console.log(match)
            /*
            0: "aaa@gmail.com"
            1: "aaa"
            2: "gmail"
            3: "com"
            groups: {
                account:"aaa",
                domain: "gmail",
                tld: "com",  
            }
            groups: undefined
            index: 0
            */
        }
        //Regax()群組找到的東西可用用 $<群組名稱> 來代表第幾個群組抓到的東西
        let emailReplaceGroup2 = email.replace(emailRegexGroup2, '帳號是$<account>，網域是 $<domain>.$<tld>')
        console.log(emailReplaceGroup2)


        //文字切割的語法
        let text3 = 'abcdefg'
        /*.substr(開始位置, 長度)
        位置可以放負數，代表倒數，如-1為倒數第一個字
        長度不寫會直接取到結尾
        */
        console.log(text3.substr(3, 1)) //從3開始取一個：d
        console.log(text3.substr(3)) //長度不寫會直接取到結尾：defg
        console.log(text3.substr(-3, 2)) /*ef
        text3.substr(-3, 1)
        text3.length=7
        -3 => 7-3 => 4
        text3.substr(4,2)*

        /*.subtring(開始位置, 結束位置)
        位置不可放負數
        不包含結束位置
        結束位置不寫會直接取到結尾*/
        console.log(text3.substring(2, 6)) //cdef

        /* .slice(開始位置, 結束位置)
        位置可放負數
        不包含結束位置
        結束位置不寫會直接取到結尾
        */

        console.log(text3.slice(2, 6))//cdef
        /*
        text3.slice(-4, -2)
        text3.length=7
        4 => 7-4 => 3
        -2 => 7-2 => 5
        text.slice(3,5)
        */
        console.log(text3.slice(-4, -2)) //de


        const num1 = '123456.789'
        //無條件捨去轉整數
        console.log(parseInt(num1))
        //轉成小數
        console.log(parseFloat(num1))
        //用運算子轉成數字
        console.log(num1 + 1)
        //用number轉成數字
        console.log(Number(num1))


        const num2 = 'abcd'
        //無條件捨去轉整數
        console.log(parseInt(num2))
        //轉成小數
        console.log(parseFloat(num2))
        //用運算子轉成數字
        console.log(num2 + 1)
        //用number轉成數字
        console.log(Number(num2))

        console.log(num2 * 1 === NaN) //false
        console.log(isNaN(num2 * 1)) //ture


        let text4 = 'aaa,bbb,ccc'
        /*.split(文字)
        以文字分割成陣列*/
        console.log(text4.split(",")) //以,來切割
        let filename = 'asdjiefcxnviee..jpg'
        let filenameArray = filename.split('.') //以.來切割
        console.log(filenameArray)
        console.log(filenameArray[filenameArray.length - 1]) // jpg
        // .at是抓出第X個
        console.log(filenameArray.at(-1)) //jpg
        console.log(filename.split('.').at(-1))

    </script>
</body>

</html>